---
import Card from "@comp/base/Card.astro";
import { Image } from "astro:assets";
import avatar from "@assets/avatar.jpeg";
import { Icon } from "astro-icon/components";

interface Social {
  name: string;
  icon: string;
  link: string;
  color: string;
}

export const socials: Social[] = [
  {
    name: "GitHub",
    icon: "mingcute:github-fill",
    link: "https://github.com/yy4382",
    color: "text-black dark:text-white",
  },
  {
    name: "Telegram",
    icon: "mingcute:telegram-fill",
    link: "https://t.me/yunfichannel",
    color: "text-blue-500",
  },
  {
    name: "Twitter",
    icon: "mingcute:twitter-fill",
    link: "https://twitter.com/yunfini",
    color: "text-blue-400",
  },
  {
    name: "Email",
    icon: "mingcute:mail-send-fill",
    link: "mailto:i@yfi.moe",
    color: "text-red-400",
  },
];
---

<div
  class="flex flex-col md:flex-row space-y-8 md:space-y-0 pt-12 md:pt-0
    min-h-[calc(100vh-5rem)] items-center relative"
>
  <Card class="flex flex-col w-full justify-between pl-8 py-6 h-1/2">
    <h1
      class="w-fit text-5xl font-bold text-heading min-h-16 flex items-end
          md:hover:text-6xl md:hover:text-primary
          transition-[font-size,color] duration-300"
    >
      Yunfi
    </h1>
    <p class="text-content mt-4">
      Writing something here would make the layout look better,<br />
      but I really don't know what to write...
    </p>

    <div class="flex flex-wrap mt-8">
      {
        socials.map((social) => (
          <div class="min-w-32">
            <a
              href={social.link}
              target="_blank"
              class="flex items-center gap-2 w-fit my-2 group
              transition-colors duration-500 ease-[cubic-bezier(0,1,0.5,1)]"
            >
              <Icon
                name={social.icon}
                class:list={["text-[1.125rem] -mr-1", social.color]}
              />
              <span
                class="font-semibold relative
                text-content hover:text-primary
                before:content-[''] before:absolute before:bottom-0 before:left-0 before:right-0 before:h-2
                before:bg-portage-200/50 before:group-hover:h-1 before:group-hover:bg-portage-300/70
                before:transition-[height,background-color]
                before:ease-[cubic-bezier(0,1,0.5,1)] before:duration-500)"
              >
                {social.name}
              </span>
            </a>
          </div>
        ))
      }
    </div>
  </Card>
  <div class="w-full md:w-1/2">
    <div
      class="ring-4 ring-[var(--primary)] ring-offset-6
        ring-offset-gray-100 dark:ring-offset-gray-950
        rounded-full w-52 h-52 overflow-hidden mx-auto"
    >
      <Image
        src={avatar}
        alt="avatar"
        widths={[240, 540, 720, avatar.width]}
        loading={"eager"}
      />
    </div>
  </div>
  <i
    class="absolute bottom-1 left-[calc(50%-0.75rem)]
    i-mingcute-down-line text-2xl text-content
    animate-bounce"
  >
  </i>
</div>

<style>
  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-0.5rem);
    }
  }
  .animate-bounce {
    animation: bounce 1s ease-in-out infinite;
  }
</style>
